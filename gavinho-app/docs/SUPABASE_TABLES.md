# Tabelas Supabase - Gavinho Platform

**Última atualização:** 2026-02-01

## Índice
- [Projetos](#projetos)
- [Obras](#obras)
- [Clientes e Fornecedores](#clientes-e-fornecedores)
- [Orçamentos e Finanças](#orçamentos-e-finanças)
- [Comunicação e Chat](#comunicação-e-chat)
- [Design Review](#design-review)
- [Decisões](#decisões)
- [Calendário e Equipa](#calendário-e-equipa)
- [Materiais e MQT](#materiais-e-mqt)
- [Biblioteca](#biblioteca)
- [Documentos](#documentos)
- [Outros](#outros)
- [Views](#views)

---

## Projetos

| Tabela | Descrição |
|--------|-----------|
| `projetos` | Tabela principal de projetos |
| `projeto_archviz` | Configurações de archviz do projeto |
| `projeto_atas` | Atas de reunião do projeto |
| `projeto_chat_mensagens` | Mensagens de chat do projeto |
| `projeto_chats` | Chats do projeto |
| `projeto_contexto` | Contexto/informações do projeto |
| `projeto_custos` | Custos do projeto |
| `projeto_diario` | Diário do projeto |
| `projeto_diario_tags` | Tags do diário do projeto |
| `projeto_documentos` | Documentos do projeto |
| `projeto_duvidas` | Dúvidas/pedidos de definição |
| `projeto_entregas` | Entregas do projeto |
| `projeto_entregaveis` | Entregáveis do projeto |
| `projeto_equipa` | Equipa do projeto |
| `projeto_fases` | Fases do projeto |
| `projeto_fases_contratuais` | Fases contratuais |
| `projeto_galeria` | Galeria de imagens |
| `projeto_health_snapshots` | Snapshots de saúde do projeto |
| `projeto_intervenientes` | Intervenientes do projeto |
| `projeto_membros` | Membros do projeto |
| `projeto_moleskine` | Anotações moleskine |
| `projeto_pagamentos` | Pagamentos do projeto |
| `projeto_recebidos` | Documentos recebidos |
| `projeto_render_comentarios` | Comentários em renders |
| `projeto_render_versoes` | Versões de renders |
| `projeto_renders` | Renders/visualizações 3D |
| `projeto_servicos` | Serviços do projeto |
| `projeto_skills` | Skills necessárias |
| `projeto_tarefas` | Tarefas do projeto |

---

## Obras

| Tabela | Descrição |
|--------|-----------|
| `obras` | Tabela principal de obras |
| `obras_compras` | Compras da obra |
| `obras_execucao` | Execução da obra |
| `obra_acoes` | Ações da obra |
| `obra_acoes_comentarios` | Comentários em ações |
| `obra_acoes_historico` | Histórico de ações |
| `obra_autos` | Autos de medição |
| `obra_auto_items` | Itens dos autos |
| `obra_canais` | Canais de comunicação |
| `obra_canal_participantes` | Participantes dos canais |
| `obra_diario` | Diário de obra |
| `obra_diario_categorias` | Categorias do diário |
| `obra_diario_projeto` | Diário de projeto da obra |
| `obra_diario_projeto_tags` | Tags do diário de projeto |
| `obra_diario_tags` | Tags do diário |
| `obra_documentos_execucao` | Documentos de execução |
| `obra_emails` | Emails da obra |
| `obra_especialidades` | Especialidades da obra |
| `obra_fotografias` | Fotografias da obra |
| `obra_fotos` | Fotos da obra |
| `obra_items` | Itens/trabalhos da obra |
| `obra_licencas` | Licenças da obra |
| `obra_mensagens` | Mensagens da obra |
| `obra_mqt_capitulos` | Capítulos MQT da obra |
| `obra_mqt_itens` | Itens MQT da obra |
| `obra_mqt_medicoes` | Medições MQT |
| `obra_orcamento_items` | Itens do orçamento da obra |
| `obra_propostas` | Propostas de fornecedores |
| `obra_relatorio_fotos` | Fotos de relatórios |
| `obra_relatorios` | Relatórios da obra |
| `obra_relatorios_semanais` | Relatórios semanais |
| `obra_tarefas` | Tarefas da obra |
| `obra_tarefas_historico` | Histórico de tarefas |
| `obra_timeline` | Timeline da obra |
| `obra_zonas` | Zonas da obra |

---

## Clientes e Fornecedores

| Tabela | Descrição |
|--------|-----------|
| `clientes` | Clientes |
| `fornecedores` | Fornecedores |
| `fornecedor_acessos` | Acessos de fornecedores |
| `fornecedor_catalogos` | Catálogos de fornecedores |
| `fornecedor_condicoes` | Condições comerciais |
| `fornecedor_contactos` | Contactos de fornecedores |
| `fornecedor_especialidades` | Especialidades |
| `fornecedor_sessoes` | Sessões de fornecedores |
| `fornecedor_trabalhos` | Trabalhos realizados |
| `fornecedor_users` | Utilizadores de fornecedores |

---

## Orçamentos e Finanças

| Tabela | Descrição |
|--------|-----------|
| `orcamentos` | Orçamentos |
| `orcamento_capitulos` | Capítulos do orçamento |
| `orcamento_itens` | Itens do orçamento |
| `orcamento_linhas` | Linhas do orçamento |
| `orcamentos_fornecedor` | Orçamentos de fornecedores |
| `orcamentos_internos` | Orçamentos internos |
| `faturas` | Faturas |
| `custos_fixos` | Custos fixos |
| `custos_fixos_movimentos` | Movimentos de custos fixos |
| `movimentos_financeiros` | Movimentos financeiros |
| `recibos_mensais` | Recibos mensais |
| `recibos_prestadores` | Recibos de prestadores |
| `recibos_vencimento` | Recibos de vencimento |
| `pedidos_pagamento` | Pedidos de pagamento |
| `pedidos_pagamento_ficheiros` | Ficheiros de pedidos |
| `pedidos_pagamento_historico` | Histórico de pedidos |
| `entidades_faturacao` | Entidades de faturação |

---

## Comunicação e Chat

| Tabela | Descrição |
|--------|-----------|
| `chat_canais` | Canais de chat |
| `chat_mensagens` | Mensagens de chat |
| `notificacoes` | Notificações |
| `whatsapp_config` | Configuração WhatsApp |
| `whatsapp_contactos` | Contactos WhatsApp |
| `whatsapp_mensagens` | Mensagens WhatsApp |
| `email_config` | Configuração de email |

---

## Design Review

| Tabela | Descrição |
|--------|-----------|
| `design_reviews` | Design reviews |
| `design_review_annotations` | Anotações |
| `design_review_decisions` | Decisões |
| `design_review_drawings` | Desenhos |
| `design_review_mentions` | Menções |
| `design_review_replies` | Respostas |
| `design_review_versions` | Versões |
| `render_annotations` | Anotações em renders |
| `render_annotation_history` | Histórico de anotações |

---

## Decisões

| Tabela | Descrição |
|--------|-----------|
| `decisoes` | Decisões |
| `decisoes_anexos` | Anexos de decisões |
| `decisoes_historico` | Histórico de decisões |
| `decisao_comentarios` | Comentários |
| `decisao_fornecedores` | Fornecedores relacionados |
| `decisao_opcoes` | Opções de decisão |
| `decisao_tarefas` | Tarefas de decisão |
| `duvida_comentarios` | Comentários em dúvidas |

---

## Calendário e Equipa

| Tabela | Descrição |
|--------|-----------|
| `calendario_eventos` | Eventos do calendário |
| `eventos` | Eventos gerais |
| `feriados_portugal` | Feriados de Portugal |
| `encerramentos_empresa` | Encerramentos da empresa |
| `ausencias` | Ausências |
| `pedidos_ausencia` | Pedidos de ausência |
| `presencas` | Presenças |
| `timesheets` | Timesheets |
| `trabalhadores` | Trabalhadores |
| `trabalhador_obras` | Trabalhadores em obras |
| `utilizadores` | Utilizadores do sistema |
| `reunioes` | Reuniões |

---

## Materiais e MQT

| Tabela | Descrição |
|--------|-----------|
| `materiais` | Materiais |
| `materiais_categorias` | Categorias de materiais |
| `materiais_imagens` | Imagens de materiais |
| `materiais_precos_historico` | Histórico de preços |
| `materiais_projetos` | Materiais por projeto |
| `mqt_artigos` | Artigos MQT |
| `mqt_linhas` | Linhas MQT |
| `mqt_versoes` | Versões MQT |
| `requisicoes_materiais` | Requisições de materiais |

---

## Biblioteca

| Tabela | Descrição |
|--------|-----------|
| `biblioteca_categorias` | Categorias da biblioteca |
| `biblioteca_inspiracao` | Inspirações |
| `biblioteca_tags` | Tags da biblioteca |
| `imagens_sistema` | Imagens do sistema |

---

## Documentos

| Tabela | Descrição |
|--------|-----------|
| `documentos` | Documentos |
| `documento_revisoes` | Revisões de documentos |
| `entrega_ficheiros` | Ficheiros de entrega |
| `fase_entregaveis` | Entregáveis por fase |
| `detalhes_construtivos` | Detalhes construtivos |

---

## Outros

| Tabela | Descrição |
|--------|-----------|
| `analises_viabilidade` | Análises de viabilidade |
| `checklist_items` | Items de checklist |
| `concelhos` | Concelhos |
| `especialidades` | Especialidades |
| `garvis_insights` | Insights do Garvis (IA) |
| `ia_sugestoes` | Sugestões de IA |
| `nao_conformidades` | Não conformidades |
| `nc_fotografias` | Fotografias de NC |
| `nc_historico` | Histórico de NC |
| `password_reset_requests` | Pedidos de reset password |
| `pedidos_cotacao` | Pedidos de cotação |
| `pop_linhas` | Linhas de POP |
| `pops` | POPs |
| `propostas` | Propostas |
| `proposta_versoes` | Versões de propostas |
| `rfqs` | RFQs |
| `rfq_fornecedores` | Fornecedores de RFQ |
| `rfq_itens` | Itens de RFQ |
| `skills` | Skills |
| `tarefas` | Tarefas gerais |

---

## Views

| View | Descrição |
|------|-----------|
| `v_analises_completas` | Análises completas |
| `v_ausencias_resumo` | Resumo de ausências |
| `v_custos_por_capitulo` | Custos por capítulo |
| `v_decisoes_impacto_projeto` | Impacto de decisões |
| `v_decisoes_timeline` | Timeline de decisões |
| `v_equipa_dashboard` | Dashboard de equipa |
| `v_horas_mensais` | Horas mensais |
| `v_recibos_pendentes` | Recibos pendentes |
| `v_tracking_obra` | Tracking de obra |

---

## Notas

- Todas as tabelas têm RLS (Row Level Security) ativado
- Políticas são permissivas (FOR ALL USING true) - ajustar em produção
- Views começam com prefixo `v_`
- Tabelas de junção geralmente têm nomes compostos (ex: `obra_diario_projeto_tags`)
